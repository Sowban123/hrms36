{% extends 'base.html' %}
{% block title %}Monthly Attendance{% endblock %}

{% block content %}
<h3>Monthly Attendance â€” {{ month }}/{{ year }}</h3>

<form method="get" class="row g-3 mb-3">
  <div class="col-md-3">
    <input type="number" name="month" class="form-control" value="{{ month }}" min="1" max="12">
  </div>
  <div class="col-md-3">
    <input type="number" name="year" class="form-control" value="{{ year }}">
  </div>
  <div class="col-md-3">
    <button class="btn btn-primary">Filter</button>
  </div>
</form>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Date</th>
      <th>Check-in</th>
      <th>Check-out</th>
      <th>Hours</th>
    </tr>
  </thead>
  <tbody>
    {% for a in attendance %}
      <tr>
        <td>{{ a.date }}</td>
        <td>{{ a.check_in|date:"H:i:s" }}</td>
        <td>{{ a.check_out|date:"H:i:s" }}</td>
        <td>{{ a.total_hours }}</td>
      </tr>
    {% empty %}
      <tr><td colspan="4" class="text-center">No attendance records</td></tr>
    {% endfor %}
  </tbody>
</table>

<h4>Total Hours: {{ total_hours }}</h4>
{% endblock %}
