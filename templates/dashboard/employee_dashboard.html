{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="d-flex justify-content-between align-items-center mb-3">
  <span class="fw-semibold fs-5">Employee Dashboard</span>
  <a href="{{ request.META.HTTP_REFERER|default:'/dashboard/' }}" class="btn btn-outline-dark btn-sm">← Back</a>
</div>

<!-- Profile Summary Card -->
<div class="card shadow-sm border-0 mb-4 p-3">
  <div class="d-flex align-items-center gap-4">

      {% if request.user.profile.photo %}
        <img src="{{ request.user.profile.photo.url }}" class="rounded-circle border"
             style="width: 100px; height: 100px; object-fit: cover;">
      {% else %}
        <img src="https://via.placeholder.com/100" class="rounded-circle border">
      {% endif %}

      <div>
        <h4 class="fw-bold mb-1">{{ emp.user.get_full_name|default:emp.user.username }}</h4>
        <p class="mb-1 text-muted">Employee ID: <strong>{{ emp.employee_id }}</strong></p>
        <p class="mb-1 text-muted">{{ emp.designation }} — {{ emp.department }}</p>

        {% if request.user.profile.verified %}
          <span class="badge bg-success">Profile Verified</span>
        {% else %}
          <span class="badge bg-warning text-dark">Profile Pending Approval</span>
        {% endif %}
      </div>
  </div>

  <div class="mt-3">
    <a href="/employees/profile/" class="btn btn-info me-2">View Profile</a>
    <a href="/employees/update-profile/" class="btn btn-warning">Update Profile</a>
  </div>
</div>


<!-- Buttons Section -->
<div class="row text-center">

  <div class="col-md-6 mb-3">
    <div class="card shadow-sm border-0 h-100">
      <div class="card-body d-flex flex-column justify-content-center">
        <h5 class="fw-semibold">Attendance</h5>
        <a href="/attendance/" class="btn btn-primary mt-2">Mark Attendance</a>
      </div>
    </div>
  </div>

  <div class="col-md-6 mb-3">
    <div class="card shadow-sm border-0 h-100">
      <div class="card-body d-flex flex-column justify-content-center">
        <h5 class="fw-semibold">Leave Requests</h5>
        <a href="/leaves/" class="btn btn-dark mt-2">Apply Leave</a>
      </div>
    </div>
  </div>

</div>

{% endblock %}
